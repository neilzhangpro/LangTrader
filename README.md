<div align="center">

# ğŸ¤– LangTrader Agents

**AI é©±åŠ¨çš„é‡åŒ–äº¤æ˜“ç³»ç»Ÿ | AI-Powered Quantitative Trading System**

åŸºäº LangGraph å’Œ LangChain ç”Ÿæ€æ„å»ºçš„æ™ºèƒ½åŠ å¯†è´§å¸äº¤æ˜“ä»£ç†ï¼ŒèåˆæŠ€æœ¯åˆ†æä¸å¤§è¯­è¨€æ¨¡å‹å†³ç­–

> ğŸ”— **åŸºäº LangChain ç”Ÿæ€**ï¼šç³»ç»Ÿæ·±åº¦é›†æˆ LangChainï¼Œæ”¯æŒ 1000+ çš„èŠå¤©æ¨¡å‹ã€åµŒå…¥æ¨¡å‹ã€å·¥å…·å’Œå·¥å…·åŒ…æ¥å…¥ï¼Œå®ç°æ— é™æ‰©å±•èƒ½åŠ›

[![Python](https://img.shields.io/badge/Python-3.12+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![Next.js](https://img.shields.io/badge/Next.js-15-000000?style=for-the-badge&logo=nextdotjs&logoColor=white)](https://nextjs.org/)
[![LangGraph](https://img.shields.io/badge/LangGraph-ğŸ¦œ-1C3C3C?style=for-the-badge)](https://github.com/langchain-ai/langgraph)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://docker.com/)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)

<br/>

[![OpenAI](https://img.shields.io/badge/OpenAI-412991?style=flat-square&logo=openai&logoColor=white)](https://openai.com/)
[![Anthropic](https://img.shields.io/badge/Anthropic-Claude-191919?style=flat-square)](https://anthropic.com/)
[![Ollama](https://img.shields.io/badge/Ollama-Local-000000?style=flat-square)](https://ollama.ai/)
[![CCXT](https://img.shields.io/badge/CCXT-Pro-000000?style=flat-square)](https://github.com/ccxt/ccxt)
[![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=flat-square&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)

<br/>

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Star æ”¯æŒï¼â­**

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

</div>

---

## ğŸ“¸ é¡¹ç›®æˆªå›¾ | Screenshots

<table>
<tr>
<td width="50%">

### Dashboard
<!-- TODO: æ·»åŠ  Dashboard æˆªå›¾ -->
<p align="center">
  <img src="docs/images/dashboard.png" alt="Dashboard" width="100%"/>
  <br/>
  <em>ä¸»æ§åˆ¶å° - æ˜¾ç¤ºæ‰€æœ‰ Bot çŠ¶æ€æ¦‚è§ˆ</em>
</p>

</td>
<td width="50%">

### Bot Detail
<!-- TODO: æ·»åŠ  Bot Detail æˆªå›¾ -->
<p align="center">
  <img src="docs/images/bot-detail.png" alt="Bot Detail" width="100%"/>
  <br/>
  <em>Bot è¯¦æƒ…é¡µ - ä½™é¢ã€æŒä»“ã€PnL å®æ—¶ç›‘æ§</em>
</p>

</td>
</tr>
<tr>
<td width="50%">

### AI Decision
<!-- TODO: æ·»åŠ  AI Decision æˆªå›¾ -->
<p align="center">
  <img src="docs/images/ai-decision.png" alt="AI Decision" width="100%"/>
  <br/>
  <em>AI å†³ç­–å¯è§†åŒ– - è¾©è®ºè¿‡ç¨‹ä¸æœ€ç»ˆå†³ç­–</em>
</p>

</td>
<td width="50%">

### Workflow Editor
<!-- TODO: æ·»åŠ  Workflow Editor æˆªå›¾ -->
<p align="center">
  <img src="docs/images/workflow-editor.png" alt="Workflow Editor" width="100%"/>
  <br/>
  <em>å·¥ä½œæµç¼–è¾‘å™¨ - å¯è§†åŒ–æ‹–æ‹½é…ç½®</em>
</p>

</td>
</tr>
<tr>
<td width="50%">

### Trade History
<!-- TODO: æ·»åŠ  Trade History æˆªå›¾ -->
<p align="center">
  <img src="docs/images/trade-history.png" alt="Trade History" width="100%"/>
  <br/>
  <em>äº¤æ˜“å†å² - å®Œæ•´äº¤æ˜“è®°å½•è¿½æº¯</em>
</p>

</td>
<td width="50%">

### Settings
<!-- TODO: æ·»åŠ  Settings æˆªå›¾ -->
<p align="center">
  <img src="docs/images/settings.png" alt="Settings" width="100%"/>
  <br/>
  <em>é…ç½®ç®¡ç† - äº¤æ˜“æ‰€/LLM/ç³»ç»Ÿå‚æ•°</em>
</p>

</td>
</tr>
</table>

> ğŸ“· **æ³¨**: æˆªå›¾ç›®å½• `docs/images/` éœ€è¦æ‰‹åŠ¨æ·»åŠ é¡¹ç›®æˆªå›¾

---

## ä¸­æ–‡

### ğŸ“– é¡¹ç›®ç®€ä»‹

LangTrader Agents æ˜¯ä¸€ä¸ª**æ¨¡å—åŒ–ã€å¯æ‰©å±•**çš„ AI é‡åŒ–äº¤æ˜“ç³»ç»Ÿã€‚å®ƒå°†ä¼ ç»ŸæŠ€æœ¯åˆ†æä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ¨ç†èƒ½åŠ›ç›¸ç»“åˆï¼Œå®ç°æ™ºèƒ½åŒ–çš„äº¤æ˜“å†³ç­–ã€‚

ç³»ç»Ÿé‡‡ç”¨ **LangGraph StateGraph** ä½œä¸ºå·¥ä½œæµå¼•æ“ï¼Œæ”¯æŒ**çƒ­æ’æ‹”èŠ‚ç‚¹**æ¶æ„ï¼Œæ‰€æœ‰é…ç½®å­˜å‚¨äº PostgreSQL æ•°æ®åº“ï¼Œæ”¯æŒ**é›¶é‡å¯çƒ­æ›´æ–°**ã€‚

ğŸ¯ **æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- ğŸ§© **æ·±åº¦é›†æˆ LangChain ç”Ÿæ€**ï¼šæ”¯æŒ 1000+ çš„èŠå¤©æ¨¡å‹ã€åµŒå…¥æ¨¡å‹ã€å·¥å…·å’Œå·¥å…·åŒ…æ¥å…¥ï¼ˆå¦‚ OpenAIã€Anthropicã€Ollamaã€DeepSeekã€æ™ºè°±ç­‰ï¼‰ï¼Œå®ç°æ— é™çš„æ¨¡å‹ä¸å·¥å…·æ‰©å±•èƒ½åŠ›
- ğŸŒ **æ”¯æŒ 104 ä¸ªä¸»æµäº¤æ˜“æ‰€**ï¼šé€šè¿‡ CCXT Pro ç»Ÿä¸€æ¥å£ï¼Œè¦†ç›–å…¨çƒä¸»æµåŠ å¯†è´§å¸äº¤æ˜“å¹³å°

> âš ï¸ **é‡è¦å£°æ˜**ï¼šæœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**ç”¨äºå¼€æºå­¦ä¹ çš„é¡¹ç›®**ã€‚åŠ å¯†è´§å¸äº¤æ˜“æ¶‰åŠé‡å¤§æŸå¤±é£é™©ï¼Œä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬è½¯ä»¶é€ æˆçš„ä»»ä½•è´¢åŠ¡æŸå¤±è´Ÿè´£ã€‚è¯·åœ¨å……åˆ†ç†è§£é£é™©çš„æƒ…å†µä¸‹è°¨æ…ä½¿ç”¨ã€‚

### âœ¨ æ ¸å¿ƒç‰¹è‰²

<table>
<tr>
<td width="50%">

#### ğŸ”Œ çƒ­æ’æ‹”æ’ä»¶æ¶æ„
- èŠ‚ç‚¹è‡ªåŠ¨å‘ç°ä¸æ³¨å†Œ
- è¿è¡Œæ—¶åŠ¨æ€åŠ è½½/å¸è½½
- æ— éœ€é‡å¯å³å¯æ‰©å±•åŠŸèƒ½

#### ğŸ¤ å¤š Agent åä½œ
- **å• Agent æ¨¡å¼**ï¼šå¿«é€Ÿå†³ç­–ï¼Œä½å»¶è¿Ÿ
- **å¤š Agent è¾©è®ºæ¨¡å¼**ï¼š4 è§’è‰²ï¼ˆåˆ†æå¸ˆ/å¤šå¤´/ç©ºå¤´/é£æ§ï¼‰è¾©è®ºï¼Œæé«˜å†³ç­–è´¨é‡
- **è§’è‰²çº§ LLM é…ç½®**ï¼šæ”¯æŒä¸ºæ¯ä¸ªè§’è‰²é…ç½®ä¸åŒçš„ LLM æ¨¡å‹ï¼Œåœ¨ Bot è¯¦æƒ…é¡µå¯è§†åŒ–æ˜¾ç¤ºå„è§’è‰²ä½¿ç”¨çš„æ¨¡å‹

#### ğŸ”§ é›†ä¸­é…ç½®ç®¡ç†
- æ•°æ®åº“é©±åŠ¨é…ç½®ï¼ˆPostgreSQLï¼‰
- 60 ç§’è‡ªåŠ¨çƒ­é‡è½½
- é›¶ç¡¬ç¼–ç ï¼Œå®Œå…¨å¯é…ç½®
- **JSON é…ç½®æ”¯æŒ**ï¼šå·¥ä½œæµèŠ‚ç‚¹æ”¯æŒ JSON æ ¼å¼é…ç½®ï¼Œæ”¯æŒå¤æ‚çš„åµŒå¥—é…ç½®ç»“æ„

</td>
<td width="50%">

#### ğŸŒ 104 ä¸ªäº¤æ˜“æ‰€æ”¯æŒ
- åŸºäº CCXT Pro ç»Ÿä¸€æ¥å£
- æ”¯æŒ Hyperliquidã€Binanceã€OKX ç­‰ 104 ä¸ªä¸»æµäº¤æ˜“æ‰€
- WebSocket å®æ—¶æ•°æ®æµ

#### ğŸ“Š é‡åŒ–ä¿¡å·å¼•æ“
- è¶‹åŠ¿/åŠ¨é‡/æ³¢åŠ¨ç‡/æˆäº¤é‡ å¤šç»´åº¦åˆ†æ
- å¯é…ç½®æƒé‡å’Œé˜ˆå€¼
- è‡ªåŠ¨è¿‡æ»¤ä½è´¨é‡ä¿¡å·

#### ğŸ›¡ï¸ æ™ºèƒ½é£æ§ç³»ç»Ÿ
- æ€»æ•å£/å•å¸ç§æ•å£é™åˆ¶
- è¿ç»­äºæŸç†”æ–­
- èµ„é‡‘è´¹ç‡ç›‘æ§
- æ‰§è¡Œå¤±è´¥åé¦ˆå­¦ä¹ 

</td>
</tr>
</table>

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **Frontend** | Next.js 15, React 19, TailwindCSS, TanStack Query | ç°ä»£åŒ– Web ç•Œé¢ |
| **Backend** | FastAPI, Python 3.12+, SQLModel | é«˜æ€§èƒ½å¼‚æ­¥ API |
| **Database** | PostgreSQL 15+ | é…ç½®å­˜å‚¨ä¸çŠ¶æ€æŒä¹…åŒ– |
| **Workflow** | LangGraph, LangChain | AI å·¥ä½œæµç¼–æ’ï¼Œæ”¯æŒ 1000+ æ¨¡å‹/å·¥å…·æ¥å…¥ |
| **Exchange** | CCXT Pro | 104 ä¸ªäº¤æ˜“æ‰€ç»Ÿä¸€æ¥å£ |
| **LLM** | OpenAI, Anthropic, Ollama, DeepSeek | å¤šæä¾›å•†æ”¯æŒ |
| **Deploy** | Docker Compose | ä¸€é”®å®¹å™¨åŒ–éƒ¨ç½² |

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

<p align="center">
  <img src="docs/images/arch.png" alt="ç³»ç»Ÿæ ¸å¿ƒå·¥ä½œæµè®¾è®¡å›¾" width="100%"/>
  <br/>
  <em>ç³»ç»Ÿæ ¸å¿ƒå·¥ä½œæµè®¾è®¡å›¾ - å•ä¸€å·¥ä½œæµä¸å¤šä»£ç†å·¥ä½œæµ</em>
</p>

#### æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LangTrader Agents                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        Frontend (Next.js)                            â”‚    â”‚
â”‚  â”‚   Dashboard â”‚ Bot Management â”‚ Workflow Editor â”‚ Trade History       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚ REST API / WebSocket                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        Backend (FastAPI)                             â”‚    â”‚
â”‚  â”‚   Auth â”‚ Bot Control â”‚ Status â”‚ Trades â”‚ Performance â”‚ Configs       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    LangGraph Workflow Engine                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚ coins    â”‚â†’â”‚ market   â”‚â†’â”‚ quant    â”‚â†’â”‚ debate/  â”‚â†’â”‚execution â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ _pick    â”‚ â”‚ _state   â”‚ â”‚ _filter  â”‚ â”‚ batch    â”‚ â”‚          â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Services: Trader â”‚ Market â”‚ Indicators â”‚ Performance â”‚ Cache        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  LLM Factory: OpenAI â”‚ Anthropic â”‚ Ollama â”‚ DeepSeek â”‚ æ™ºè°±          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Exchange (CCXT Pro): 104 Exchanges with WebSocket Support            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¦ å·¥ä½œæµèŠ‚ç‚¹

| èŠ‚ç‚¹ | åŠŸèƒ½ | ç‰¹ç‚¹ |
|------|------|------|
| `coins_pick` | é€‰å¸ | æŒ‰æˆäº¤é‡/OI åŠ¨æ€ç­›é€‰ |
| `market_state` | å¸‚åœºæ•°æ® | å¤šæ—¶é—´æ¡†æ¶ K çº¿ + æŒ‡æ ‡è®¡ç®— |
| `quant_signal_filter` | é‡åŒ–è¿‡æ»¤ | å¤šç»´åº¦è¯„åˆ†ï¼Œè¿‡æ»¤å™ªéŸ³ |
| `batch_decision` | æ‰¹é‡å†³ç­– | å• Agent å¿«é€Ÿå†³ç­– |
| `debate_decision` | è¾©è®ºå†³ç­– | 4 Agent å¤šè§’è‰²è¾©è®ºï¼Œæ”¯æŒè§’è‰²çº§ LLM é…ç½® |
| `execution` | æ‰§è¡Œäº¤æ˜“ | é£æ§éªŒè¯ + è®¢å•æ‰§è¡Œ |

### ğŸ¯ æŒ‘æˆ˜ä¸åº”å¯¹æ–¹å¼

åœ¨å¼€å‘æœ¬ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†è¯¸å¤šæŒ‘æˆ˜ï¼Œä»¥ä¸‹æ˜¯ä¸»è¦çš„æŒ‘æˆ˜ä»¥åŠç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼š

<table>
<tr>
<td width="50%">

#### 1ï¸âƒ£ LLM ç”Ÿæˆå¹»è§‰é—®é¢˜

**æŒ‘æˆ˜**ï¼šLLM å¯èƒ½äº§ç”Ÿä¸ç¬¦åˆé¢„æœŸçš„è¾“å‡ºæˆ–æ ¼å¼é”™è¯¯ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **æ¸©åº¦è®¾ç½®ä¸º 0**ï¼šé™ä½éšæœºæ€§ï¼Œæé«˜è¾“å‡ºç¨³å®šæ€§
- âœ… **LangChain ç»“æ„åŒ–è¾“å‡º**ï¼šä½¿ç”¨ Pydantic æ¨¡å‹çº¦æŸè¾“å‡ºæ ¼å¼ï¼Œç¡®ä¿ç±»å‹å®‰å…¨
- âœ… **é£é™©éªŒè¯èŠ‚ç‚¹**ï¼šåœ¨æ‰§è¡Œå‰å¯¹ LLM è¾“å‡ºè¿›è¡ŒéªŒè¯ï¼Œå¢åŠ å®¹é”™æœºåˆ¶å’Œå¼‚å¸¸å¤„ç†

#### 2ï¸âƒ£ å• Agent å†³ç­–è´¨é‡ä¸è¶³

**æŒ‘æˆ˜**ï¼šå•ä¸ª Agent çš„å†³ç­–å¯èƒ½ä¸å¤Ÿå…¨é¢æˆ–å‡†ç¡®ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **å¤š Agent è¾©è®ºæ¨¡å¼**ï¼šå¼•å…¥å¤š Agent æ’ä»¶ç³»ç»Ÿï¼Œé€šè¿‡ä¸åŒæ¨¡å‹å’Œä¸åŒè§’è‰²çš„ Agentï¼ˆåˆ†æå¸ˆ/å¤šå¤´/ç©ºå¤´/é£æ§ï¼‰è¿›è¡Œè®¨è®ºå’ŒæŠ•ç¥¨ï¼Œäº§ç”Ÿèƒœç‡æœ€é«˜çš„å†³ç­–

#### 3ï¸âƒ£ å¯è§‚æµ‹æ€§é—®é¢˜

**æŒ‘æˆ˜**ï¼šéš¾ä»¥è¿½è¸ª LLM å†³ç­–è¿‡ç¨‹å’Œæ•°æ®æµã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **LangSmith é›†æˆ**ï¼šé›†æˆ LangSmith å¹³å°ï¼Œå¯ä»¥è¿½è¸ªæ‰€æœ‰ LLM å†³ç­–å’Œ LangGraph æ•°æ®æµ
- âœ… **Checkpoint æœºåˆ¶**ï¼šç³»ç»Ÿé›†æˆäº† checkpoint æœºåˆ¶ï¼Œå¯ä»¥å›é€€åˆ°ä»»æ„æ—¶é—´èŠ‚ç‚¹ï¼Œå›æº¯å½“æ—¶çš„æ•°æ®å’Œ AI å†³ç­–

</td>
<td width="50%">

#### 4ï¸âƒ£ ç”Ÿäº§ç¯å¢ƒå¤š Bot å¹¶å‘è¿è¡Œ

**æŒ‘æˆ˜**ï¼šéœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ª Bot å®ä¾‹ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **å¤šçº¿ç¨‹æŠ€æœ¯**ï¼šé‡‡ç”¨å¤šçº¿ç¨‹æŠ€æœ¯å®ç°å¹¶å‘è¿è¡Œï¼Œæé«˜ç³»ç»Ÿååé‡

#### 5ï¸âƒ£ Token æ¶ˆè€—é—®é¢˜

**æŒ‘æˆ˜**ï¼šLLM API è°ƒç”¨æˆæœ¬è¾ƒé«˜ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **é«˜æ€§èƒ½ä½ Token å•ä»·æ¨¡å‹**ï¼šä¼˜å…ˆä½¿ç”¨æ€§ä»·æ¯”é«˜çš„æ¨¡å‹
- âœ… **LangChain ç¼“å­˜æœºåˆ¶**ï¼šå……åˆ†åˆ©ç”¨ LangChain çš„ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘é‡å¤è®¡ç®—
- âœ… **åˆå¹¶è¯·æ±‚**ï¼šå°†å¤šä¸ªå¸ç§çš„å†³ç­–åˆå¹¶ä¸ºä¸€æ¬¡ LLM è°ƒç”¨ï¼Œä½¿ç”¨ç»“æ„åŒ–è¾“å‡ºæ‰¹é‡è·å–ç»“æœ

#### 6ï¸âƒ£ äº¤æ˜“æ‰€é¢‘ç¹è¯·æ±‚é—®é¢˜

**æŒ‘æˆ˜**ï¼šé¢‘ç¹è¯·æ±‚å¯èƒ½è¢«äº¤æ˜“æ‰€é™æµæˆ–å±è”½ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **ç¼“å­˜ç³»ç»Ÿ**ï¼šè®¾è®¡å®Œå–„çš„ç¼“å­˜ç³»ç»Ÿï¼Œå……åˆ†ç¼“å­˜å¸‚åœºæ•°æ®
- âœ… **è¯·æ±‚ç®¡ç†å™¨**ï¼šå®ç°è¯·æ±‚ç®¡ç†å™¨ï¼Œå¯¹å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ•°è¿›è¡Œç®¡ç†ï¼Œé˜²æ­¢è¿‡åº¦è¯·æ±‚

#### 7ï¸âƒ£ é…ç½®åˆ†æ•£é—®é¢˜

**æŒ‘æˆ˜**ï¼šé…ç½®åˆ†æ•£åœ¨ä¸åŒæ–‡ä»¶ï¼Œéš¾ä»¥ç®¡ç†å’Œçƒ­é‡è½½ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **é›†ä¸­åŒ–æ•°æ®åº“é…ç½®**ï¼šå°†æ‰€æœ‰é…ç½®é›†ä¸­åœ¨ PostgreSQL æ•°æ®åº“ä¸­ï¼Œæ”¯æŒç”¨æˆ·ç»‘å®šå’Œæ’ä»¶çƒ­é‡è½½

#### 8ï¸âƒ£ å·¥ä½œæµä¸çµæ´»é—®é¢˜

**æŒ‘æˆ˜**ï¼šå·¥ä½œæµç¡¬ç¼–ç ï¼Œéš¾ä»¥çµæ´»è°ƒæ•´ã€‚

**åº”å¯¹æ–¹å¼**ï¼š
- âœ… **æ•°æ®åº“ + æ’ä»¶æœºåˆ¶**ï¼šé‡‡ç”¨æ•°æ®åº“é…ç½®å’Œæ’ä»¶æœºåˆ¶å®ç°å·¥ä½œæµçš„åŠ¨æ€é…ç½®å’ŒåŠ è½½ï¼Œæ”¯æŒåˆ†æ”¯é€»è¾‘ï¼Œåªéœ€æ­£ç¡®é…ç½®æ’ä»¶å³å¯å®ç°é«˜åº¦çµæ´»çš„å·¥ä½œæµ

</td>
</tr>
</table>

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### å‰ç½®å‡†å¤‡ï¼ˆå¯é€‰ï¼‰

**è·å– LangSmith API Keyï¼ˆæ¨èï¼‰**

[LangSmith](https://smith.langchain.com/) æ˜¯ LangChain å®˜æ–¹çš„è¿½è¸ªå¹³å°ï¼Œå¯ä»¥å¯è§†åŒ– AI å†³ç­–è¿‡ç¨‹å’Œ LangGraph æ•°æ®æµã€‚

- è®¿é—® https://smith.langchain.com/
- æ³¨å†Œ/ç™»å½•è´¦å·
- è¿›å…¥ **Settings â†’ API Keys**
- ç‚¹å‡» **Create API Key** ç”Ÿæˆå¯†é’¥
- ä¿å­˜å¥½ API Keyï¼Œç¨ååœ¨å‰ç«¯ **Bot é…ç½®é¡µé¢** å¡«å…¥

#### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/neilzhangpro/LangTrader.git
cd LangTrader_Agents

# 2. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆä»…éœ€æ•°æ®åº“é…ç½®ï¼‰
cat > .env << 'EOF'
# æ•°æ®åº“é…ç½®ï¼ˆå¿…å¡«ï¼‰
POSTGRES_USER=langtrader
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=langtrader_pro
EOF

# 3. ä¸€é”®å¯åŠ¨
docker compose up -d --build

# 4. è®¿é—®ç•Œé¢
# å‰ç«¯: http://localhost:3000
# API: http://localhost:8000/api/docs
```

#### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/neilzhangpro/LangTrader.git
cd LangTrader_Agents

# 2. å®‰è£… Python ä¾èµ–ï¼ˆéœ€è¦ uvï¼‰
uv sync

# 3. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install && cd ..

# 4. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆä»…éœ€æ•°æ®åº“è¿æ¥ï¼‰
cat > .env << 'EOF'
DATABASE_URL=postgresql://username:password@localhost:5432/langtrader_pro
EOF

# 5. åˆå§‹åŒ–æ•°æ®åº“
createdb langtrader_pro  # å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨
psql -d langtrader_pro -f langtrader_pro_init.sql

# 6. å¯åŠ¨åç«¯ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
PYTHONPATH=packages uv run uvicorn langtrader_api.main:app --reload

# 7. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend && npm run dev
```

> ğŸ’¡ **æç®€é…ç½®**ï¼š`.env` åªéœ€é…ç½®æ•°æ®åº“è¿æ¥ï¼äº¤æ˜“æ‰€ API Keyã€LLM API Keyã€LangSmith Key ç­‰æ‰€æœ‰é…ç½®éƒ½é€šè¿‡å‰ç«¯ç•Œé¢é…ç½®å¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚

### ğŸ“‚ é¡¹ç›®ç»“æ„

```
langtrader-agents/
â”œâ”€â”€ frontend/                # Next.js å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ app/                 # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ lib/api/             # API å®¢æˆ·ç«¯
â”‚   â””â”€â”€ types/               # TypeScript ç±»å‹
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ langtrader_api/      # FastAPI åç«¯
â”‚   â”‚   â”œâ”€â”€ routes/v1/       # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ schemas/         # Pydantic æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚   â””â”€â”€ langtrader_core/     # æ ¸å¿ƒäº¤æ˜“é€»è¾‘
â”‚       â”œâ”€â”€ graph/nodes/     # å·¥ä½œæµèŠ‚ç‚¹æ’ä»¶
â”‚       â”œâ”€â”€ services/        # äº¤æ˜“/å¸‚åœº/æŒ‡æ ‡æœåŠ¡
â”‚       â”œâ”€â”€ data/            # æ•°æ®æ¨¡å‹ä¸ä»“åº“
â”‚       â””â”€â”€ plugins/         # æ’ä»¶ç³»ç»Ÿ
â”œâ”€â”€ examples/                # ç¤ºä¾‹è„šæœ¬
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”œâ”€â”€ docker-compose.yml       # Docker ç¼–æ’
â””â”€â”€ pyproject.toml           # Python é¡¹ç›®é…ç½®
```

### âš™ï¸ ç³»ç»Ÿé…ç½®å‚æ•°

#### Bot é…ç½®å‚æ•°

åœ¨åˆ›å»º Bot æ—¶ï¼Œå¯ä»¥é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `trading_timeframes` | `["3m", "4h"]` | äº¤æ˜“æ—¶é—´æ¡†æ¶åˆ—è¡¨ï¼Œç”¨äºè·å–ä¸åŒå‘¨æœŸçš„ K çº¿æ•°æ® |
| `ohlcv_limits` | `{"3m": 100, "4h": 100}` | å„æ—¶é—´æ¡†æ¶è·å–çš„ K çº¿æ•°é‡ |
| `quant_signal_threshold` | `50` | é‡åŒ–ä¿¡å·æœ€ä½å¾—åˆ†é˜ˆå€¼ï¼ˆ0-100ï¼‰ï¼Œä½äºæ­¤å€¼çš„ä¿¡å·å°†è¢«è¿‡æ»¤ |
| `quant_signal_weights` | è§ä¸‹è¡¨ | é‡åŒ–ä¿¡å·å„ç»´åº¦æƒé‡é…ç½® |
| `risk_limits` | è§ä¸‹è¡¨ | é£é™©ç®¡ç†é˜ˆå€¼é…ç½® |

**é‡åŒ–ä¿¡å·æƒé‡ (quant_signal_weights)**ï¼š

| ç»´åº¦ | é»˜è®¤æƒé‡ | è¯´æ˜ |
|------|----------|------|
| `trend` | 0.4 | è¶‹åŠ¿æŒ‡æ ‡æƒé‡ï¼ˆEMAã€MACD è¶‹åŠ¿ç­‰ï¼‰ |
| `momentum` | 0.3 | åŠ¨é‡æŒ‡æ ‡æƒé‡ï¼ˆRSIã€Stochastic ç­‰ï¼‰ |
| `volume` | 0.2 | é‡èƒ½æŒ‡æ ‡æƒé‡ï¼ˆæˆäº¤é‡å˜åŒ–ç­‰ï¼‰ |
| `sentiment` | 0.1 | æƒ…ç»ªæŒ‡æ ‡æƒé‡ï¼ˆèµ„é‡‘è´¹ç‡ç­‰ï¼‰ |

**é£é™©é™åˆ¶ (risk_limits)**ï¼š

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `max_total_allocation_pct` | 80 | æœ€å¤§æ€»ä»“ä½ç™¾åˆ†æ¯” |
| `max_single_allocation_pct` | 30 | å•å¸ç§æœ€å¤§ä»“ä½ç™¾åˆ†æ¯” |
| `min_position_size_usd` | 10 | æœ€å°å¼€ä»“é‡‘é¢ï¼ˆUSDï¼‰ |
| `max_position_size_usd` | 5000 | æœ€å¤§å¼€ä»“é‡‘é¢ï¼ˆUSDï¼‰ |
| `min_risk_reward_ratio` | 2.0 | æœ€å°é£é™©å›æŠ¥æ¯” |
| `max_leverage` | 5 | æœ€å¤§æ æ†å€æ•° |
| `default_leverage` | 3 | é»˜è®¤æ æ†å€æ•° |
| `max_funding_rate_pct` | 0.05 | èµ„é‡‘è´¹ç‡ä¸Šé™ï¼ˆ%ï¼‰ï¼Œè¶…è¿‡åˆ™ä¸å¼€ä»“ |
| `max_consecutive_losses` | 5 | è¿ç»­äºæŸç†”æ–­é˜ˆå€¼ |

### ğŸ® å·¥ä½œæµç©æ³•

æœ¬ç³»ç»Ÿæ”¯æŒä¸¤ç§ AI å†³ç­–æ¨¡å¼ï¼Œé€šè¿‡ Workflow ä¸­é€‰æ‹©ä¸åŒçš„å†³ç­–èŠ‚ç‚¹å®ç°ï¼š

#### æ¨¡å¼ 1ï¼šå• Agent å†³ç­– (batch_decision)

ä½¿ç”¨å•ä¸ª AI è¿›è¡Œå¿«é€Ÿå†³ç­–ï¼Œé€‚åˆå¯¹å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯ã€‚

**è‡ªå®šä¹‰æ–¹æ³•**ï¼šä¿®æ”¹ `packages/langtrader_core/prompts/batch_decision.txt` å³å¯è°ƒæ•´ AI å†³ç­–é£æ ¼

```
prompts/
â”œâ”€â”€ batch_decision.txt   # å• Agent å†³ç­–æç¤ºè¯ï¼ˆä¸»è¦ä¿®æ”¹è¿™ä¸ªï¼‰
â””â”€â”€ default.txt          # é»˜è®¤æç¤ºè¯æ¨¡æ¿
```

**æç¤ºè¯è°ƒä¼˜å»ºè®®**ï¼š
- è°ƒæ•´ä»“ä½åˆ†é…ç­–ç•¥ï¼šä¿®æ”¹ "ä»“ä½åˆ†é…æŒ‡å—" éƒ¨åˆ†
- è°ƒæ•´æ­¢æŸæ­¢ç›ˆç­–ç•¥ï¼šä¿®æ”¹ "æŒä»“ç®¡ç†ç­–ç•¥" éƒ¨åˆ†
- è°ƒæ•´é£é™©åå¥½ï¼šä¿®æ”¹ä¿¡å¿ƒåº¦ä¸ä»“ä½çš„å¯¹åº”å…³ç³»

#### æ¨¡å¼ 2ï¼šå¤š Agents è¾©è®º (debate_decision)

ä½¿ç”¨ 4 ä¸ªä¸åŒè§’è‰²çš„ AI è¿›è¡Œè¾©è®ºå†³ç­–ï¼Œæé«˜å†³ç­–è´¨é‡ï¼š

| è§’è‰² | èŒè´£ | æç¤ºè¯æ–‡ä»¶ |
|------|------|-----------|
| Analystï¼ˆåˆ†æå¸ˆï¼‰ | æŠ€æœ¯åˆ†æï¼Œè¶‹åŠ¿åˆ¤æ–­ | `debate_analyst.txt` |
| Bullï¼ˆå¤šå¤´äº¤æ˜“å‘˜ï¼‰ | å¯»æ‰¾åšå¤šæœºä¼š | `debate_bull.txt` |
| Bearï¼ˆç©ºå¤´äº¤æ˜“å‘˜ï¼‰ | å¯»æ‰¾åšç©ºæœºä¼šï¼Œè¯†åˆ«é£é™© | `debate_bear.txt` |
| RiskManagerï¼ˆé£æ§ç»ç†ï¼‰ | ä»“ä½å®¡æ ¸ï¼Œæœ€ç»ˆå†³ç­– | `debate_risk_manager.txt` |

**è‡ªå®šä¹‰æ–¹æ³•**ï¼š
1. **ä¿®æ”¹è§’è‰²æç¤ºè¯**ï¼šç¼–è¾‘ `packages/langtrader_core/prompts/debate_*.txt` æ–‡ä»¶
2. **ä¿®æ”¹è¾©è®ºå‚æ•°**ï¼šç¼–è¾‘ `packages/langtrader_core/graph/nodes/debate_decision.py`
   - `debate_max_rounds`ï¼šè¾©è®ºè½®æ•°ï¼ˆé»˜è®¤ 2 è½®ï¼‰
   - `timeout_per_phase`ï¼šæ¯é˜¶æ®µè¶…æ—¶æ—¶é—´
   - `DEFAULT_RISK_LIMITS`ï¼šé£æ§é»˜è®¤å€¼

```python
# debate_decision.py ä¸­çš„å…³é”®é…ç½®
DEFAULT_NODE_CONFIG = {
    "timeout_per_phase": 120,      # æ¯é˜¶æ®µè¶…æ—¶ï¼ˆç§’ï¼‰
    "debate_max_rounds": 2,        # è¾©è®ºè½®æ•°
    "trade_history_limit": 10,     # æ³¨å…¥çš„äº¤æ˜“å†å²æ¡æ•°
}
```

**è§’è‰²çº§ LLM é…ç½®**ï¼šæ”¯æŒä¸ºæ¯ä¸ªè§’è‰²é…ç½®ä¸åŒçš„ LLM æ¨¡å‹ï¼Œå®ç°"ä¼—äººæ‹¾æŸ´"æ•ˆæœã€‚

### ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

ğŸ“– è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ [docs/](docs/) ç›®å½• | ğŸ“‹ [æ›´æ–°æ—¥å¿—](docs/CHANGELOG.md)

### ğŸ“‹ å¼€å‘è®¡åˆ’ (TODO)

- [ ] å®Œå–„å„ç§ KEY çš„åŠ å¯†é—®é¢˜
- [ ] å®Œå…¨ SAAS åŒ–

---

## English

### ğŸ“– Introduction

LangTrader Agents is a **modular, extensible** AI-powered quantitative trading system. It combines traditional technical analysis with Large Language Model (LLM) reasoning capabilities for intelligent trading decisions.

The system uses **LangGraph StateGraph** as the workflow engine, supports a **hot-swappable node** architecture, with all configurations stored in PostgreSQL database, enabling **zero-restart hot updates**.

ğŸ¯ **Key Advantages**:
- ğŸ§© **Deep Integration with LangChain Ecosystem**: Supports 1000+ integrations across chat models, embedding models, tools, and toolkits (OpenAI, Anthropic, Ollama, DeepSeek, Zhipu, etc.), enabling unlimited model and tool extensibility
- ğŸŒ **Support for 104 Exchanges**: Via CCXT Pro unified interface, covering major cryptocurrency trading platforms worldwide

> âš ï¸ **Important Notice**: This project is **for open-source learning purposes**. Cryptocurrency trading involves significant risk of loss. The authors are not responsible for any financial losses incurred through the use of this software. Please use with caution and full understanding of the risks.

### âœ¨ Key Features

<table>
<tr>
<td width="50%">

#### ğŸ”Œ Hot-Swappable Plugin Architecture
- Auto-discovery and registration of nodes
- Runtime dynamic loading/unloading
- Extend functionality without restart

#### ğŸ¤ Multi-Agent Collaboration
- **Single Agent Mode**: Fast decisions, low latency
- **Multi-Agent Debate Mode**: 4 roles (Analyst/Bull/Bear/RiskManager) debate for better decisions
- **Role-Level LLM Configuration**: Support configuring different LLM models for each role, with visual display of model names in Bot detail page

#### ğŸ”§ Centralized Configuration
- Database-driven config (PostgreSQL)
- 60-second auto hot-reload
- Zero hardcoding, fully configurable
- **JSON Config Support**: Workflow nodes support JSON format configuration with complex nested structures

</td>
<td width="50%">

#### ğŸŒ 104 Exchanges Supported
- Unified interface via CCXT Pro
- Supports 104 major exchanges including Hyperliquid, Binance, OKX, etc.
- WebSocket real-time data streams

#### ğŸ“Š Quantitative Signal Engine
- Multi-dimensional analysis: Trend/Momentum/Volatility/Volume
- Configurable weights and thresholds
- Auto-filter low-quality signals

#### ğŸ›¡ï¸ Intelligent Risk Management
- Total/single exposure limits
- Consecutive loss circuit breaker
- Funding rate monitoring
- Execution failure feedback learning

</td>
</tr>
</table>

### ğŸ› ï¸ Tech Stack

| Layer | Technology | Description |
|-------|------------|-------------|
| **Frontend** | Next.js 15, React 19, TailwindCSS, TanStack Query | Modern Web UI |
| **Backend** | FastAPI, Python 3.12+, SQLModel | High-performance async API |
| **Database** | PostgreSQL 15+ | Config storage & state persistence |
| **Workflow** | LangGraph, LangChain | AI workflow orchestration, supports 1000+ models/tools |
| **Exchange** | CCXT Pro | 104 exchanges unified interface |
| **LLM** | OpenAI, Anthropic, Ollama, DeepSeek | Multi-provider support |
| **Deploy** | Docker Compose | One-click containerized deployment |

### ğŸ¯ Challenges & Solutions

During the development of this system, we encountered various challenges. Here are the main challenges and their corresponding solutions:

<table>
<tr>
<td width="50%">

#### 1ï¸âƒ£ LLM Hallucination Problem

**Challenge**: LLMs may produce unexpected outputs or format errors.

**Solutions**:
- âœ… **Temperature set to 0**: Reduces randomness, improves output stability
- âœ… **LangChain Structured Output**: Uses Pydantic models to constrain output format, ensuring type safety
- âœ… **Risk Validation Node**: Validates LLM output before execution, adds error handling and fault tolerance

#### 2ï¸âƒ£ Single Agent Decision Quality Issues

**Challenge**: Single agent decisions may not be comprehensive or accurate enough.

**Solutions**:
- âœ… **Multi-Agent Debate Mode**: Introduces multi-agent plugin system, where different models and roles (Analyst/Bull/Bear/RiskManager) debate and vote to produce the highest-probability decision

#### 3ï¸âƒ£ Observability Problems

**Challenge**: Difficult to trace LLM decision processes and data flows.

**Solutions**:
- âœ… **LangSmith Integration**: Integrates LangSmith platform to track all LLM decisions and LangGraph data flows
- âœ… **Checkpoint Mechanism**: System integrates checkpoint mechanism, allowing rollback to any time point to review historical data and AI decisions

</td>
<td width="50%">

#### 4ï¸âƒ£ Multi-Bot Concurrent Execution in Production

**Challenge**: Need to run multiple bot instances simultaneously.

**Solutions**:
- âœ… **Multi-threading**: Uses multi-threading technology for concurrent execution, improving system throughput

#### 5ï¸âƒ£ Token Consumption Issues

**Challenge**: High cost of LLM API calls.

**Solutions**:
- âœ… **High-performance, Low Token Cost Models**: Prioritizes cost-effective models
- âœ… **LangChain Caching**: Fully utilizes LangChain caching mechanism to reduce redundant computations
- âœ… **Request Merging**: Combines multiple coin decisions into a single LLM call, uses structured output to batch retrieve results

#### 6ï¸âƒ£ Exchange Request Rate Limiting

**Challenge**: Frequent requests may be rate-limited or blocked by exchanges.

**Solutions**:
- âœ… **Caching System**: Designs comprehensive caching system to cache market data effectively
- âœ… **Request Manager**: Implements request manager to control request rate per unit time, preventing excessive requests

#### 7ï¸âƒ£ Scattered Configuration Problem

**Challenge**: Configurations scattered across files, difficult to manage and hot-reload.

**Solutions**:
- âœ… **Centralized Database Configuration**: Centralizes all configurations in PostgreSQL database, supports user binding and plugin hot-reload

#### 8ï¸âƒ£ Inflexible Workflow Problem

**Challenge**: Workflows are hardcoded, difficult to adjust flexibly.

**Solutions**:
- âœ… **Database + Plugin Mechanism**: Uses database configuration and plugin mechanism to enable dynamic workflow configuration and loading, supports branching logic, just configure plugins correctly to achieve highly flexible workflows

</td>
</tr>
</table>

### ğŸš€ Quick Start

#### Prerequisites (Optional)

**Get LangSmith API Key (Recommended)**

[LangSmith](https://smith.langchain.com/) is LangChain's official tracing platform for visualizing AI decision processes and LangGraph data flows.

- Visit https://smith.langchain.com/
- Sign up / Log in
- Go to **Settings â†’ API Keys**
- Click **Create API Key**
- Save the API Key, configure it later in the frontend **Bot Configuration Page**

#### Option 1: Docker Deployment (Recommended)

```bash
# 1. Clone the repository
git clone https://github.com/neilzhangpro/LangTrader.git
cd LangTrader_Agents

# 2. Create environment file (only database config needed)
cat > .env << 'EOF'
# Database (Required)
POSTGRES_USER=langtrader
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=langtrader_pro
EOF

# 3. Start all services
docker compose up -d --build

# 4. Access the interfaces
# Frontend: http://localhost:3000
# API Docs: http://localhost:8000/api/docs
```

#### Option 2: Local Development

```bash
# 1. Clone the repository
git clone https://github.com/neilzhangpro/LangTrader.git
cd LangTrader_Agents

# 2. Install Python dependencies (requires uv)
uv sync

# 3. Install frontend dependencies
cd frontend && npm install && cd ..

# 4. Create environment file (only database connection needed)
cat > .env << 'EOF'
DATABASE_URL=postgresql://username:password@localhost:5432/langtrader_pro
EOF

# 5. Initialize database
createdb langtrader_pro  # If database doesn't exist
psql -d langtrader_pro -f langtrader_pro_init.sql

# 6. Start backend (from project root)
PYTHONPATH=packages uv run uvicorn langtrader_api.main:app --reload

# 7. Start frontend (new terminal)
cd frontend && npm run dev
```

> ğŸ’¡ **Minimal Config**: `.env` only needs database connection! Exchange API Keys, LLM API Keys, LangSmith Keys, and all other configs are configured via the frontend UI and stored in the database.

### ğŸ“‚ Project Structure

```
langtrader-agents/
â”œâ”€â”€ frontend/                # Next.js frontend app
â”‚   â”œâ”€â”€ app/                 # Page routes
â”‚   â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ lib/api/             # API clients
â”‚   â””â”€â”€ types/               # TypeScript types
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ langtrader_api/      # FastAPI backend
â”‚   â”‚   â”œâ”€â”€ routes/v1/       # API routes
â”‚   â”‚   â”œâ”€â”€ schemas/         # Pydantic models
â”‚   â”‚   â””â”€â”€ services/        # Business services
â”‚   â””â”€â”€ langtrader_core/     # Core trading logic
â”‚       â”œâ”€â”€ graph/nodes/     # Workflow node plugins
â”‚       â”œâ”€â”€ services/        # Trading/Market/Indicator services
â”‚       â”œâ”€â”€ data/            # Data models & repositories
â”‚       â””â”€â”€ plugins/         # Plugin system
â”œâ”€â”€ examples/                # Example scripts
â”œâ”€â”€ docs/                    # Documentation
â”œâ”€â”€ docker-compose.yml       # Docker orchestration
â””â”€â”€ pyproject.toml           # Python project config
```

### âš™ï¸ System Configuration

#### Bot Configuration Parameters

When creating a Bot, you can configure the following parameters:

| Parameter | Default | Description |
|-----------|---------|-------------|
| `trading_timeframes` | `["3m", "4h"]` | Trading timeframe list for fetching K-line data |
| `ohlcv_limits` | `{"3m": 100, "4h": 100}` | K-line count per timeframe |
| `quant_signal_threshold` | `50` | Minimum quant signal score (0-100), signals below this are filtered |
| `quant_signal_weights` | See below | Weight configuration for quant signal dimensions |
| `risk_limits` | See below | Risk management threshold configuration |

**Quant Signal Weights (quant_signal_weights)**:

| Dimension | Default Weight | Description |
|-----------|----------------|-------------|
| `trend` | 0.4 | Trend indicator weight (EMA, MACD trend, etc.) |
| `momentum` | 0.3 | Momentum indicator weight (RSI, Stochastic, etc.) |
| `volume` | 0.2 | Volume indicator weight |
| `sentiment` | 0.1 | Sentiment indicator weight (funding rate, etc.) |

**Risk Limits (risk_limits)**:

| Parameter | Default | Description |
|-----------|---------|-------------|
| `max_total_allocation_pct` | 80 | Maximum total position percentage |
| `max_single_allocation_pct` | 30 | Maximum single coin position percentage |
| `min_position_size_usd` | 10 | Minimum position size (USD) |
| `max_position_size_usd` | 5000 | Maximum position size (USD) |
| `min_risk_reward_ratio` | 2.0 | Minimum risk-reward ratio |
| `max_leverage` | 5 | Maximum leverage |
| `default_leverage` | 3 | Default leverage |
| `max_funding_rate_pct` | 0.05 | Funding rate limit (%), won't open if exceeded |
| `max_consecutive_losses` | 5 | Consecutive loss circuit breaker threshold |

### ğŸ® Workflow Modes

The system supports two AI decision modes, selected by choosing different decision nodes in the Workflow:

#### Mode 1: Single Agent Decision (batch_decision)

Uses a single AI for fast decision-making, suitable for latency-sensitive scenarios.

**Customization**: Edit `packages/langtrader_core/prompts/batch_decision.txt` to adjust AI decision style

```
prompts/
â”œâ”€â”€ batch_decision.txt   # Single Agent prompt (main file to modify)
â””â”€â”€ default.txt          # Default prompt template
```

**Prompt Tuning Tips**:
- Adjust position allocation: Modify the "Position Allocation Guide" section
- Adjust stop-loss/take-profit: Modify the "Position Management Strategy" section
- Adjust risk preference: Modify confidence-to-position mapping

#### Mode 2: Multi-Agent Debate (debate_decision)

Uses 4 different AI roles for debate-based decision-making, improving decision quality:

| Role | Responsibility | Prompt File |
|------|---------------|-------------|
| Analyst | Technical analysis, trend judgment | `debate_analyst.txt` |
| Bull | Find long opportunities | `debate_bull.txt` |
| Bear | Find short opportunities, identify risks | `debate_bear.txt` |
| RiskManager | Position review, final decision | `debate_risk_manager.txt` |

**Customization**:
1. **Modify role prompts**: Edit `packages/langtrader_core/prompts/debate_*.txt` files
2. **Modify debate parameters**: Edit `packages/langtrader_core/graph/nodes/debate_decision.py`
   - `debate_max_rounds`: Number of debate rounds (default 2)
   - `timeout_per_phase`: Timeout per phase
   - `DEFAULT_RISK_LIMITS`: Default risk limits

```python
# Key configuration in debate_decision.py
DEFAULT_NODE_CONFIG = {
    "timeout_per_phase": 120,      # Phase timeout (seconds)
    "debate_max_rounds": 2,        # Debate rounds
    "trade_history_limit": 10,     # Trade history entries to inject
}
```

**Role-Level LLM Configuration**: Supports configuring different LLM models for each role, enabling a "collective wisdom" approach.

### ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit Issues and Pull Requests.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

ğŸ“– See [docs/](docs/) for detailed documentation | ğŸ“‹ [Changelog](docs/CHANGELOG.md)

### ğŸ“‹ Development Roadmap (TODO)

- [ ] Improve encryption for various API keys
- [ ] Fully SaaS-ify the system

---

<div align="center">

## â­ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

If you find this project helpful, please give us a Star!

[![Star History Chart](https://api.star-history.com/svg?repos=neilzhangpro/LangTrader&type=Date)](https://star-history.com/#neilzhangpro/LangTrader&Date)

---

### ğŸ™ è‡´è°¢ | Acknowledgements

[![LangGraph](https://img.shields.io/badge/LangGraph-Workflow-1C3C3C?style=flat-square)](https://github.com/langchain-ai/langgraph)
[![CCXT](https://img.shields.io/badge/CCXT-Exchange-000000?style=flat-square)](https://github.com/ccxt/ccxt)
[![LangChain](https://img.shields.io/badge/LangChain-LLM-1C3C3C?style=flat-square)](https://github.com/langchain-ai/langchain)
[![pandas-ta](https://img.shields.io/badge/pandas--ta-Indicators-150458?style=flat-square)](https://github.com/twopirllc/pandas-ta)

---

### âš ï¸ å…è´£å£°æ˜ | Disclaimer

**æœ¬è½¯ä»¶æ˜¯ä¸€ä¸ªç”¨äºå¼€æºå­¦ä¹ çš„é¡¹ç›®**ã€‚åŠ å¯†è´§å¸äº¤æ˜“æ¶‰åŠé‡å¤§æŸå¤±é£é™©ã€‚ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬è½¯ä»¶é€ æˆçš„ä»»ä½•è´¢åŠ¡æŸå¤±è´Ÿè´£ã€‚

**This software is for open-source learning purposes**. Cryptocurrency trading involves significant risk of loss. The authors are not responsible for any financial losses incurred through the use of this software.

---

**MIT License** | Copyright Â© 2026

</div>
